
CREATE DATABASE OnlineShop

use OnlineShop

CREATE TABLE Users
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	FullName NVARCHAR(max) NOT NULL,
	Phone NVARCHAR(max) NOT NULL,
	Email NVARCHAR(max) NOT NULL,
)

INSERT INTO Users VALUES
	('{15928533-5BDB-442F-ACC2-30FA48FDAADD}','alina','+77473788024','chal.23@mail.ru')

delete users where id='{402F395A-1579-4D5B-BB4C-FBDA0E5B96E7}'
select *from users

INSERT INTO Users VALUES
	('{402F395A-1579-4D5B-BB4C-FBDA0E5B96E7}','карина','+77078909023','kari.23@mail.ru')

CREATE Table Manufacturer 
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	Name NVARCHAR(max) NOT NULL,
	Country NVARCHAR(max) NOT NULL
)

INSERT INTO Manufacturer VALUES
	('{94D03303-5703-4B1C-9101-21BFA39DA195}', 'Acer', 'Тайвань'),
	('{44FD345C-BD4E-4573-B848-25452D15DDD8}', 'Apple', 'США'),
	('{B08D0FBA-4E8D-4D5E-8FAB-6DDBB17525BC}', 'Samsung', 'Южная Корея'),
	('{A9FF573D-4664-4810-9CDB-F92400A899DF}', 'Lenovo', 'Китай'),
	('{C1E77DA3-7439-429D-B18A-5E15C523B8EF}', 'Asus', 'Тайвань'),
	('{A26FF842-0A4B-4086-8E22-76CE8ABF4A16}', 'Huiwei', 'Китай'),
	('{4384DC0B-C052-4BEF-904F-7B0EDBBA2F88}', 'Xiaomi', 'Китай'),
	('{1A1A4C38-5375-43B8-B5E6-B5FA96DBD37B}', 'Oppo', 'Китай'),
	('{D6BBD134-61DD-481D-8704-F9E439BD8131}', 'Dell', 'США')


CREATE Table Category -- категория товара т.е. компьютер/ноутбук/телефон
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	Name NVARCHAR(max) NOT NULL,
)


INSERT INTO Category VALUES
	('{2FF09308-C507-4F2F-B28F-3850F4730BA6}', 'Компьютер'),
	('{97BAAFE0-FB59-4B5D-86D6-0D32D47EF19A}', 'Моноблок'),
	('{158419D6-D23E-4037-89E6-D856E0D4913F}', 'Ноутбук'),
	('{069A904B-D72C-40C0-91C1-C70C06EBA7B6}', 'Ультрабук'),
	('{4B6E16A0-EA64-4325-8456-4BA3E162CCFB}', 'Монитор'),
	('{B53ECB4B-35E8-4FD5-A9B3-836DA8B0B13E}', 'Смартфон'),
	('{65245CF4-B785-4503-A39B-F2A82A909482}', 'Планшет')


CREATE Table Goods
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	Name NVARCHAR(max) NOT NULL,  -- название товара (Acer)
	Price INT NOT NULL DEFAULT 0,
	Publicitydate DATETIME DEFAULT GETDATE(),

	CategoryId Uniqueidentifier NOT NULL,
	ManufacturerId Uniqueidentifier NOT NULL,

	CONSTRAINT FK_Goods_Category FOREIGN KEY(CategoryId)
			REFERENCES Category(Id),

	CONSTRAINT FK_Goods_Manufacturer FOREIGN KEY(ManufacturerId)
			REFERENCES Manufacturer(Id)
)

CREATE TABLE Raiting
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	GoodsId Uniqueidentifier,
	Raiting int
)



set dateformat dmy
																--категория   --производитель
INSERT INTO Goods VALUES 
	('{85A053DD-3275-43EA-B4F9-295E038146FD}', 'IdeaCentre AIO 3 27IMB05', 242100,'17/02/2021', '{97BAAFE0-FB59-4B5D-86D6-0D32D47EF19A}','{A9FF573D-4664-4810-9CDB-F92400A899DF}'), --моноблок леново
	('{BD4373A9-BE45-46C8-9587-15E9D27411D6}', 'Zenbook UX425JA-BM220T', 379900, '15/02/2021', '{069A904B-D72C-40C0-91C1-C70C06EBA7B6}','{C1E77DA3-7439-429D-B18A-5E15C523B8EF}'), -- ульрабук асус
	('{61F8ACEE-DF79-434B-8E4C-6D586838F6BE}', 'WW27', 60900, '01/02/2021', '{2FF09308-C507-4F2F-B28F-3850F4730BA6}','{94D03303-5703-4B1C-9101-21BFA39DA195}'), -- acer komp
	('{A29D548F-DC62-4450-B2F7-90D256D7F15B}', 'S24F356FHI', 51600,'09/01/2021', '{4B6E16A0-EA64-4325-8456-4BA3E162CCFB}','{B08D0FBA-4E8D-4D5E-8FAB-6DDBB17525BC}'), -- самсунг монитор
	('{B40C80D1-8214-4C81-9ED2-2BF48DE7C9B0}', 'S24F350FHI', 52700, '04/03/2021', '{4B6E16A0-EA64-4325-8456-4BA3E162CCFB}','{B08D0FBA-4E8D-4D5E-8FAB-6DDBB17525BC}'),-- самсунг монитор	
	('{2B137E5A-EA84-4CED-8A79-1F13395246E6}','iPhone 12 Pro A2407',6999900, '07/03/2021','{B53ECB4B-35E8-4FD5-A9B3-836DA8B0B13E}','{44FD345C-BD4E-4573-B848-25452D15DDD8}'), --смартфоны
	('{AEA9BABD-DD24-4FBE-A04C-F5FB8BBEC68F}','Mi10 T', 229990 ,'07/02/2021','{B53ECB4B-35E8-4FD5-A9B3-836DA8B0B13E}','{4384DC0B-C052-4BEF-904F-7B0EDBBA2F88}'),
	('{16972BE3-4B6B-4618-85BF-91A6069E7F21}','Galaxy A02',47800, '13/02/2021','{B53ECB4B-35E8-4FD5-A9B3-836DA8B0B13E}','{B08D0FBA-4E8D-4D5E-8FAB-6DDBB17525BC}'),
	('{21354F8F-D699-4EDB-A249-6BB4B66AD679}', 'Redmi Note 9',89990, '23/02/2021','{B53ECB4B-35E8-4FD5-A9B3-836DA8B0B13E}','{4384DC0B-C052-4BEF-904F-7B0EDBBA2F88}'),
	('{6B6AFD2D-625A-4BC9-A998-AFC3C9B8A1AA}','A53',89900, '25/02/2021','{B53ECB4B-35E8-4FD5-A9B3-836DA8B0B13E}','{1A1A4C38-5375-43B8-B5E6-B5FA96DBD37B}'),
	('{C80F66F7-BD40-4CED-8D8C-71D1A67CF4DB}', 'A91',112900, '16/03/2021','{B53ECB4B-35E8-4FD5-A9B3-836DA8B0B13E}','{1A1A4C38-5375-43B8-B5E6-B5FA96DBD37B}'),
	('{55CB4052-F158-4FA9-ADE9-EDE9AD27A953}', 'Aspire A315-22-495T',159900, '16/02/2021','{158419D6-D23E-4037-89E6-D856E0D4913F}','{94D03303-5703-4B1C-9101-21BFA39DA195}'),--ноутбуки
	('{1A750E62-1902-4B95-BFAC-5CD85AAB0E44}', 'MacBook Air A2337',549900, '06/03/2021','{158419D6-D23E-4037-89E6-D856E0D4913F}','{44FD345C-BD4E-4573-B848-25452D15DDD8}'),
	('{3B8C7D45-AB0D-4830-BB57-07140A6D78DF}', 'Legion 5 15IMH05',446400, '16/01/2021','{158419D6-D23E-4037-89E6-D856E0D4913F}','{A9FF573D-4664-4810-9CDB-F92400A899DF}'),
	('{9B48C4A6-CF12-4CB1-8812-C3DBCD63F2E0}', 'X515MA-BR201', 149900,'26/03/2021','{158419D6-D23E-4037-89E6-D856E0D4913F}','{C1E77DA3-7439-429D-B18A-5E15C523B8EF}'),
	('{1F42F779-2AD6-4505-8F04-6D9465E140D1}', 'MacBook Pro',1022900, '21/03/2021','{158419D6-D23E-4037-89E6-D856E0D4913F}','{44FD345C-BD4E-4573-B848-25452D15DDD8}'),
	('{036D5547-54A3-4E91-A326-1120CB0FADB6}', 'P2421D',122100, '22/02/2021','{4B6E16A0-EA64-4325-8456-4BA3E162CCFB}','{D6BBD134-61DD-481D-8704-F9E439BD8131}'), -- мониторы
	('{64643435-6D8C-439F-A1A9-E0088CEF7822}', 'Mi 1C RMMNT238NF',70990, '22/01/2021','{4B6E16A0-EA64-4325-8456-4BA3E162CCFB}','{4384DC0B-C052-4BEF-904F-7B0EDBBA2F88}'),
	('{9B0B2E45-B81D-43C7-95B4-A93231E7AE37}', 'S2421HGF', 98600,'22/01/2021','{4B6E16A0-EA64-4325-8456-4BA3E162CCFB}','{D6BBD134-61DD-481D-8704-F9E439BD8131}'),
	('{9F14DD6B-9D01-44D4-BCF7-A784D3DF7D1C}', 'NITRO EI431CR Sbmiiipx',432300, '22/01/2021','{4B6E16A0-EA64-4325-8456-4BA3E162CCFB}','{94D03303-5703-4B1C-9101-21BFA39DA195}'),
	('{A7718AF9-8628-4CAF-BE30-5969AC090E6A}', 'C32R502FHI',107900, '14/01/2021','{4B6E16A0-EA64-4325-8456-4BA3E162CCFB}','{B08D0FBA-4E8D-4D5E-8FAB-6DDBB17525BC}'),
	('{109EAD65-25EB-4E40-9294-1711125D794A}', 'Zenbook Flip UX363EA-HP184T', 499900,'22/02/2021','{069A904B-D72C-40C0-91C1-C70C06EBA7B6}','{C1E77DA3-7439-429D-B18A-5E15C523B8EF}'), -- ультрабуки
	('{3B9F89D7-7AF8-47D1-95EB-21C34EC231FD}', 'Ideapad 5 14IIL05',399900, '27/02/2021','{069A904B-D72C-40C0-91C1-C70C06EBA7B6}','{A9FF573D-4664-4810-9CDB-F92400A899DF}'),
	('{986456C9-5E23-4708-95C4-939063DF5481}', 'Zenbook UX425EA-HM093T',499900, '28/02/2021','{069A904B-D72C-40C0-91C1-C70C06EBA7B6}','{C1E77DA3-7439-429D-B18A-5E15C523B8EF}'),
	('{B3F80B5C-8F0E-4EFD-80D3-A2E8BE78711C}', 'Swift 1 SF114-33-P5XC',197300, '29/01/2021','{069A904B-D72C-40C0-91C1-C70C06EBA7B6}','{94D03303-5703-4B1C-9101-21BFA39DA195}'),
	('{65262B5B-A909-4696-9937-E7A3A8D4DD20}', 'Tab E7 TB-7104F',36900, '01/03/2021','{65245CF4-B785-4503-A39B-F2A82A909482}','{A9FF573D-4664-4810-9CDB-F92400A899DF}'), -- планшет
	('{CBCB0C56-AED3-4CF8-91C7-5DF0DCB65F35}', 'Galaxy Tab A',56300, '02/02/2021','{65245CF4-B785-4503-A39B-F2A82A909482}','{B08D0FBA-4E8D-4D5E-8FAB-6DDBB17525BC}'),
	('{5761C389-2EA1-4E89-83BC-9D9A41E47B5E}', 'iPad Pro',877800, '03/03/2021','{65245CF4-B785-4503-A39B-F2A82A909482}','{44FD345C-BD4E-4573-B848-25452D15DDD8}'),
	('{2B1F2696-329D-4F81-91C9-6EEB868BC9C2}', 'Aspire C27-962',357100, '04/01/2021','{97BAAFE0-FB59-4B5D-86D6-0D32D47EF19A}','{94D03303-5703-4B1C-9101-21BFA39DA195}'), -- моноблоки
	('{11E8C8ED-A11B-4156-9DA0-0CD7C3194CAE}', 'iMac A2116',825900, '05/01/2021','{97BAAFE0-FB59-4B5D-86D6-0D32D47EF19A}','{44FD345C-BD4E-4573-B848-25452D15DDD8}'),
	('{28D4CF1B-E2FF-474A-9490-CC94DF7F42E7}', 'OptiPlex 3280',362700, '06/01/2021','{97BAAFE0-FB59-4B5D-86D6-0D32D47EF19A}','{D6BBD134-61DD-481D-8704-F9E439BD8131}'),
	('{FE1D7083-4AD3-4515-B4F6-91CBFC0884F1}', 'IdeaCentre AIO 3 22ADA05',220800, '07/01/2021','{97BAAFE0-FB59-4B5D-86D6-0D32D47EF19A}','{A9FF573D-4664-4810-9CDB-F92400A899DF}'),
	('{C35DFD71-D965-4DBE-9183-45695470B383}', 'Vostro 3671',299900, '24/01/2021','{2FF09308-C507-4F2F-B28F-3850F4730BA6}','{D6BBD134-61DD-481D-8704-F9E439BD8131}'), --компьютер
	('{B1243570-7B14-48D5-9067-E4B672339148}', 'MXNG2RU/A',617990, '08/02/2021','{2FF09308-C507-4F2F-B28F-3850F4730BA6}','{44FD345C-BD4E-4573-B848-25452D15DDD8}')





insert into Raiting values
	('{CBB4BC14-74FD-49CD-9AF9-D3492EA67414}','{85A053DD-3275-43EA-B4F9-295E038146FD}',2),
	('{B63B82C8-3CE3-4B77-A5A3-1B0DE2F1C315}','{85A053DD-3275-43EA-B4F9-295E038146FD}',2),
	('{DDB53789-4F6E-4EBB-AB3E-D67D0525FC73}','{B40C80D1-8214-4C81-9ED2-2BF48DE7C9B0}',2),
	('{3F6EDC36-8B21-4016-AA69-C22A0194EF4C}','{BD4373A9-BE45-46C8-9587-15E9D27411D6}',3),
	('{DC226CF9-E059-46FD-AB68-6707EE80F01A}','{BD4373A9-BE45-46C8-9587-15E9D27411D6}',6),
	('{3C3B92BE-FECA-442A-8C09-F3E1E2C67009}','{BD4373A9-BE45-46C8-9587-15E9D27411D6}',6),
	('{9341A479-EE93-49FE-9549-35058A5D3BB0}','{A29D548F-DC62-4450-B2F7-90D256D7F15B}',1),
	('{5DF0E845-3F4C-4892-B602-17A3DBA5D562}','{B40C80D1-8214-4C81-9ED2-2BF48DE7C9B0}',8),
	('{7F5712ED-61A7-464A-8A63-C4B9917BF736}','{AEA9BABD-DD24-4FBE-A04C-F5FB8BBEC68F}',4),
	('{57130888-E4C8-46F5-9F18-637F066CA161}','{16972BE3-4B6B-4618-85BF-91A6069E7F21}',2),
	('{92985CF5-A8AB-4F98-9AD3-AA7492496D7D}','{21354F8F-D699-4EDB-A249-6BB4B66AD679}',9),
	('{6C0D1AC6-0049-4889-84B9-E80FB121C892}','{1A750E62-1902-4B95-BFAC-5CD85AAB0E44}',3),
	('{6A85FC28-679C-4C4C-82C4-9FAF23853800}','{1A750E62-1902-4B95-BFAC-5CD85AAB0E44}',5),
	('{A2693B04-6299-4292-804F-522A46552624}','{55CB4052-F158-4FA9-ADE9-EDE9AD27A953}',9),
	('{5E000F52-CD66-46D7-982F-2CCA664B07DB}','{036D5547-54A3-4E91-A326-1120CB0FADB6}',7),
	('{EB70541B-4000-4378-BCEA-DF111F597767}','{036D5547-54A3-4E91-A326-1120CB0FADB6}',8),
	('{21F5B14B-D575-44B6-9FF1-CB9E48282862}','{036D5547-54A3-4E91-A326-1120CB0FADB6}',9)




CREATE TABLE AmountGoods
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	GoodsId Uniqueidentifier NOT NULL,
	Amount INT DEFAULT 0,

	
	CONSTRAINT FK_AmountGoods FOREIGN KEY(GoodsId)
			REFERENCES Goods(Id)
)



insert into AmountGoods values 
	('{888C6185-DF9D-4E8B-9C5E-41CCCD611C29}', '{3B8C7D45-AB0D-4830-BB57-07140A6D78DF}',2),
	('{98A0CFF5-D68D-4857-A239-3B2D41A34608}', '{11E8C8ED-A11B-4156-9DA0-0CD7C3194CAE}',2),
	('{BDAFE466-2415-4C18-98C5-59568F943586}', '{036D5547-54A3-4E91-A326-1120CB0FADB6}',2),
	('{E92BC4AC-D568-49AC-9945-85B8EAA48B4B}', '{BD4373A9-BE45-46C8-9587-15E9D27411D6}',1),
	('{6F1A19C7-77FF-4A65-8512-08A843A60ADF}', '{109EAD65-25EB-4E40-9294-1711125D794A}',3),
	('{09DED700-4939-48BD-B4CE-B1A779A0896D}', '{2B137E5A-EA84-4CED-8A79-1F13395246E6}',4),
	('{9752CAF4-B501-434F-9595-89DC53FFFB5B}', '{3B9F89D7-7AF8-47D1-95EB-21C34EC231FD}',5),
	('{58C2477A-A89F-48B6-801F-1CB9FFC0E003}', '{85A053DD-3275-43EA-B4F9-295E038146FD}',2),
	('{1196B8C9-FE21-4DEE-8AC2-D08E2AFB34A6}', '{B40C80D1-8214-4C81-9ED2-2BF48DE7C9B0}',6),
	('{0465523F-E874-4D51-B837-7DB819E3E193}', '{C35DFD71-D965-4DBE-9183-45695470B383}',7),
	('{44021D98-FDC5-4EF2-B28F-D49E019CE984}', '{A7718AF9-8628-4CAF-BE30-5969AC090E6A}',8),
	('{3332DF24-9099-4047-87E7-B0641A1C5682}', '{1A750E62-1902-4B95-BFAC-5CD85AAB0E44}',1),
	('{39892DBC-ADEF-44FB-856B-F21B292C947B}', '{CBCB0C56-AED3-4CF8-91C7-5DF0DCB65F35}',2),
	('{E27DDFDF-13D0-4ED6-9122-522CAACC78B8}', '{21354F8F-D699-4EDB-A249-6BB4B66AD679}',4),
	('{BC4EDB11-D239-457F-A7FC-23BF82997475}', '{61F8ACEE-DF79-434B-8E4C-6D586838F6BE}',9),
	('{441C3507-0745-4A64-99E8-888CAF34C42F}', '{1F42F779-2AD6-4505-8F04-6D9465E140D1}',5),
	('{D803CF57-8176-4AB3-AF0D-275F02418DD5}', '{2B1F2696-329D-4F81-91C9-6EEB868BC9C2}',2),
	('{222D74F6-B86E-4C75-9C9A-9C811641B968}', '{A29D548F-DC62-4450-B2F7-90D256D7F15B}',8),
	('{BD4DB3E9-3DF4-4329-AEB2-EFFDF1D58CA2}', '{16972BE3-4B6B-4618-85BF-91A6069E7F21}',7),
	('{22AB5243-E340-4E0F-A793-2B2277F64236}', '{FE1D7083-4AD3-4515-B4F6-91CBFC0884F1}',6),
	('{7C948D8C-1C22-4255-9D19-1A6CC9ADF948}', '{986456C9-5E23-4708-95C4-939063DF5481}',2),
	('{5AB82D6D-CBD6-4B6A-A0AB-7C267E81FFA1}', '{5761C389-2EA1-4E89-83BC-9D9A41E47B5E}',2),
	('{14DF050E-A359-47F0-8CE9-BB4E02A13EA5}', '{B3F80B5C-8F0E-4EFD-80D3-A2E8BE78711C}',2),
	('{C914ACE2-C6F7-46A5-A296-507E6FA76024}', '{9F14DD6B-9D01-44D4-BCF7-A784D3DF7D1C}',2),
	('{8271E66D-C176-4EFF-9763-D8FD7E3D9B81}', '{9B0B2E45-B81D-43C7-95B4-A93231E7AE37}',2),
	('{BBD8FCB8-E6D8-4210-A6EC-F16DA900B857}', '{6B6AFD2D-625A-4BC9-A998-AFC3C9B8A1AA}',2),
	('{EEEB9BF1-BCA7-4AE6-88C2-B2379A2E6346}', '{9B48C4A6-CF12-4CB1-8812-C3DBCD63F2E0}',4),
	('{0704A42D-3DF2-4405-A949-DF166527CAD1}', '{28D4CF1B-E2FF-474A-9490-CC94DF7F42E7}',2),
	('{174700A2-8706-4D56-A55C-320098527551}', '{64643435-6D8C-439F-A1A9-E0088CEF7822}',6),
	('{DD61DFB4-F2C0-46B2-85B6-8BB04EAB734D}', '{B1243570-7B14-48D5-9067-E4B672339148}',5),
	('{7E831616-838A-4D31-9438-501ECCB83842}', '{65262B5B-A909-4696-9937-E7A3A8D4DD20}',1),
	('{7B5267B7-13CD-4137-B054-89CB9CA06581}', '{55CB4052-F158-4FA9-ADE9-EDE9AD27A953}',4),
	('{AD9CD7B2-2992-40B8-A5D8-5FBB8FC04EB3}', '{AEA9BABD-DD24-4FBE-A04C-F5FB8BBEC68F}',3)


CREATE TABLE Comment
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	[Text] NVARCHAR(max) NOT NULL,
	Publicitydate DateTime DEFAULT GETDATE(), 
	GoodsId Uniqueidentifier,

	CONSTRAINT FK_Comment_Goods FOREIGN KEY(GoodsId)
			REFERENCES Goods(Id),

	UserId Uniqueidentifier,

	CONSTRAINT FK_Comment_User FOREIGN KEY(UserId)
			REFERENCES Users(Id)
)

INSERT INTO Comment VALUES
	('{C1401D0B-1CB1-45C5-BF47-1B45E71D949A}', 'Покупкой довольна!Хороший ноутбук!',GETDATE(), '{1F42F779-2AD6-4505-8F04-6D9465E140D1}', '{15928533-5BDB-442F-ACC2-30FA48FDAADD}'),
	('{D773BD2D-2A86-4DFA-B8B4-5CE4FEBB0504}', 'Ноутбук не тянет, игры не поиграешь, фильмы не посмотришь. Ставлю -',GETDATE(), '{55CB4052-F158-4FA9-ADE9-EDE9AD27A953}', '{15928533-5BDB-442F-ACC2-30FA48FDAADD}')




CREATE TABLE Purchase -- покупка
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	[Sum] int DEFAULT 0,
	[Date] DATETIME,
	UserId Uniqueidentifier,

	CONSTRAINT FK_Purchase_User FOREIGN KEY(UserId)
			REFERENCES Users(Id)
)



CREATE TABLE Basket
(
	Id Uniqueidentifier PRIMARY KEY DEFAULT NEWID(),
	PurchaseId Uniqueidentifier,
	GoodsId Uniqueidentifier,

	CONSTRAINT FK_Backet_Purchase FOREIGN KEY(PurchaseId)
			REFERENCES Purchase(Id),

	CONSTRAINT FK_Backet_Goods FOREIGN KEY(GoodsId)
			REFERENCES Goods(Id)
)

select * from basket
insert into Purchase values 
	('{A214B8C9-12AE-4F9D-A0AF-ED4DFF942DF6}',1180900,GetDate(),'{15928533-5BDB-442F-ACC2-30FA48FDAADD}')


insert into Basket values 
	('{D0A70563-3B89-4C93-BE2E-92D2909C583A}','{A214B8C9-12AE-4F9D-A0AF-ED4DFF942DF6}', '{1F42F779-2AD6-4505-8F04-6D9465E140D1}'),
	('{FB942180-F856-42C9-B5C0-82F8226A5468}','{A214B8C9-12AE-4F9D-A0AF-ED4DFF942DF6}', '{55CB4052-F158-4FA9-ADE9-EDE9AD27A953}')

select * from Raiting

select avg(r.Raiting) as raiting from goods g
join raiting r on g.Id=r.GoodsId
where r.GoodsId='{28D4CF1B-E2FF-474A-9490-CC94DF7F42E7}'
group by r.GoodsId 


Select * from goods where id in
(select top 4 r.GoodsId from Raiting r
join goods g on g.Id=r.GoodsId
group by r.GoodsId
order by avg(r.raiting) desc)


select COUNT(id),country from Manufacturer group by country


Select * from goods
order by Name
OFFSET 10 rows -- пропускаю первые 10


Select * from goods
order by Name
OFFSET 4 rows -- пропускаю первые 10
FETCH NEXT 4 ROWS ONLY

Select count(id) as count from goods

select * from Users
delete users 

EXEC sp_rename 'Sales.SalesTerritory.TerritoryID', 'TerrID', 'COLUMN';

A7718AF9-8628-4CAF-BE30-5969AC090E6A

update AmountGoods set amount=10 where GoodsId='{6b6afd2d-625a-4bc9-a998-afc3c9b8a1aa}'

select * from AmountGoods where GoodsId='{6b6afd2d-625a-4bc9-a998-afc3c9b8a1aa}'
